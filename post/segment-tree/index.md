# 세그먼트 트리(Segment tree) 알고리즘
조건:
- 결합법칙이 성립되는 연산자 $+$
- 항등원의 존재

성질:

길이가 $n$인 배열 $A$가 존재할 때
- $O(n \log n)$으로 최초 트리 빌드
- $O(\log n)$으로 트리 업데이트
- $O(\log n)$으로 구간합 구하기

## 구현

## 항등원 만들기
원래의 연산자에 항등원이 존재하지 않는 경우에도 Wrapper 타입과 연산자를 만들어 항등원이 존재하도록 만들 수 있다. 임의의 타입 T와 연산자 +에 대해 Maybe 타입을 이용해 다음와 같이 타입 T'와 연산자 +'를 정의할 수 있다.

- T' = Maybe&lt;T>
- pure(t: T) = Just(t)
- a +' b = + <$> a <*> b

이렇게 하면 Nothing이 항등원이 된다.
- a +' Nothing = a
- Nothing +' b = b